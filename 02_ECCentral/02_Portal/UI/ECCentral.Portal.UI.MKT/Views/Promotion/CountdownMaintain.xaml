<ovs:PageBase x:Class="ECCentral.Portal.UI.MKT.Views.CountdownMaintain" 
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:ovs="clr-namespace:Newegg.Oversea.Silverlight.ControlPanel.Core.Base;assembly=Newegg.Oversea.Silverlight.ControlPanel.Core"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:interaction="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
           xmlns:ucProduct="clr-namespace:ECCentral.Portal.Basic.Components.UserControls.ProductPicker;assembly=ECCentral.Portal.Basic"
           mc:Ignorable="d" d:DesignWidth="640" d:DesignHeight="480"
           xmlns:ovsControls="clr-namespace:Newegg.Oversea.Silverlight.Controls;assembly=Newegg.Oversea.Silverlight.Controls"
           xmlns:ovsDataControls="clr-namespace:Newegg.Oversea.Silverlight.Controls.Data;assembly=Newegg.Oversea.Silverlight.Controls.Data"
           xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
           xmlns:timepicker="clr-namespace:ECCentral.Portal.Basic.Components.UserControls.DatetimePicker;assembly=ECCentral.Portal.Basic"
           xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
           xmlns:res="clr-namespace:ECCentral.Portal.UI.MKT.Resources"
               xmlns:enumConverter="clr-namespace:ECCentral.Portal.Basic.Utilities;assembly=ECCentral.Portal.Basic"
           xmlns:converterBasic="clr-namespace:ECCentral.Portal.Basic.Converters;assembly=ECCentral.Portal.Basic"
           xmlns:converter="clr-namespace:ECCentral.Portal.Basic.Converters;assembly=ECCentral.Portal.Basic" >

    <ovs:PageBase.Resources>
        <res:ResCountdownMaintain x:Key="CountdownMaintain"/>
        <converter:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <converterBasic:PercentageConverter x:Name="PercentageConverter" />
        <enumConverter:EnumConverter x:Name="Enumconverter"></enumConverter:EnumConverter>
        <converterBasic:NullableMoneyConverter x:Name="MoneyConverter" />
    </ovs:PageBase.Resources>
    <ovsControls:FunctionPanel ContentHorizontalScrollBarVisibility="Disabled">
        <ovsControls:FunctionPanel.Content>
            <Grid Margin="10,5" Background="#F1F1F1"  >
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid Name="headerContainer" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="130"/>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="90"/>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>


                    <TextBlock Grid.Row="0" Grid.Column="2" Text="{Binding TextBlock_Channel,Source={StaticResource CountdownMaintain}}"/>
                    <ovsControls:Combox Grid.Row="0" Grid.Column="3"
                                        SelectedValue="{Binding ChannelID,Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True}"
                                       DisplayMemberPath="ChannelName"
                                        SelectedValuePath="ChannelID" x:Name="lstChannel">
                    </ovsControls:Combox>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding TextBlock_Goods,Source={StaticResource CountdownMaintain}}"/>
                    <ucProduct:UCProductPicker Name="ucItemMaster"
                        Grid.Row="0" Grid.Column="1"
                        ProductID="{Binding ProductID ,Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True}"
                        ProductSysNo="{Binding ProductSysNo , Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True}" />
                    <TextBlock Grid.Column="4" Text="{Binding TextBlock_Status, Source={StaticResource CountdownMaintain}}" VerticalAlignment="Center" HorizontalAlignment="Left" Visibility="{Binding Path=StatusVisibility,Converter={StaticResource BoolToVisibilityConverter}}"></TextBlock>
                    <TextBlock Grid.Column="5" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{Binding Path=Status,Mode=TwoWay,Converter={StaticResource Enumconverter}}" Visibility="{Binding Path=StatusVisibility,Converter={StaticResource BoolToVisibilityConverter}}"></TextBlock>
                </Grid>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding TextBlock_Vendor,Source={StaticResource CountdownMaintain}}"/>
                <TextBox Grid.Row="1" Grid.Column="1" IsReadOnly="True" Text="{Binding VendorName,Mode=TwoWay}"/>

                <TextBlock Visibility="Collapsed" Grid.Row="2" Grid.Column="0" Text="{Binding TextBlock_PM,Source={StaticResource CountdownMaintain}}"/>
                <TextBlock Visibility="Collapsed" Grid.Row="2" Grid.Column="1" Name="PM" Margin="10,0,0,0" />

                <HyperlinkButton Grid.Row="3" Grid.Column="0" Content="{Binding HyperlinkButton_GoodsDetail,Source={StaticResource CountdownMaintain}}" HorizontalContentAlignment="Left" Click="ShowProductDetail_Click" />
                <ovsDataControls:DataGrid Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="4" Margin="7,5"
                                  AutoGenerateColumns="False"
                                          Name="dgdProductDetail"
                                  IsReadOnly="True"
                                  IsShowPager="False"
                                  IsShowColumnsSelector="False"
                                  GridID="6FD42D18-7F03-4D52-AC2E-2406B2C0A2CB">
                    <ovsDataControls:DataGrid.Columns>
                        <ovsDataControls:DataGridTemplateColumn Width="60"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_Operation,Source={StaticResource CountdownMaintain}}">
                            <ovsDataControls:DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <HyperlinkButton Content="{Binding Grid_Edit,Source={StaticResource CountdownMaintain}}" Click="EditProduct_Click"/>
                                </DataTemplate>
                            </ovsDataControls:DataGridTemplateColumn.CellTemplate>
                        </ovsDataControls:DataGridTemplateColumn>
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding ProductSysNo}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_GoodsSysNo,Source={StaticResource CountdownMaintain}}"  />
                        <ovsDataControls:DataGridTextColumn Width="120"
                                                        Binding="{Binding ProductName}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_GoodsName,Source={StaticResource CountdownMaintain}}"/>
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding AvailableQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_SurplusStock,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding AccountQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_FinanceStock,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="70"
                                                        Binding="{Binding ReservedQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_TotalObliStock,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="70"
                                                        Binding="{Binding CurrentReservedQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_CurrentObliStock,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding UnitCost, Converter={StaticResource MoneyConverter}}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_CurrentCost,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding Price, Converter={StaticResource MoneyConverter}}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_CurrentPrice,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding Point}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_GiftIntegral,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="60"
                                                        Binding="{Binding GrossMarginRate, Converter={StaticResource PercentageConverter}}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_CurrentGrossProfit,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding JDPrice}" Visibility="Collapsed"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_HDPrice,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding W1}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_w1,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding W2}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_w2,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding W3}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_w3,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding W4}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_w4,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding M1}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_m1,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding M2}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_m2,Source={StaticResource CountdownMaintain}}"
                                                        />
                        <ovsDataControls:DataGridTextColumn  Visibility="Collapsed" Width="30"
                                                        Binding="{Binding M3}"
                                                            ovsDataControls:DataGridAttached.Header="{Binding Grid_m3,Source={StaticResource CountdownMaintain}}"
                                                        CanUserSort="True"/>
                        <ovsDataControls:DataGridTemplateColumn  Visibility="Collapsed" Width="100"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_LatestPurchaseDate,Source={StaticResource CountdownMaintain}}">

                            <ovsDataControls:DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <HyperlinkButton Content="{Binding LastPurchaseDate,StringFormat=yyyy-MM-dd HH:mm:ss}" Click="LatestPurchaseDate_Click"/>
                                </DataTemplate>
                            </ovsDataControls:DataGridTemplateColumn.CellTemplate>
                        </ovsDataControls:DataGridTemplateColumn>
                    </ovsDataControls:DataGrid.Columns>
                </ovsDataControls:DataGrid>

                <Grid Name="CheckBoxContainer" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="6">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="130"/>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="90"/>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding TextBlock_ActivityDescribe,Source={StaticResource CountdownMaintain}}" />
                    <TextBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" MaxLength="200" TextWrapping="Wrap" AcceptsReturn="True" Text="{Binding PromotionTitle,Mode=TwoWay}" />

                    <Grid Name="datetimeSelectContainer" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="5">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="130"/>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition Width="90"/>
                            <ColumnDefinition Width="250"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Row="0" Grid.Column="0" x:Name="txtQuickTimes" Text="{Binding TextBlock_QuickTimes,Source={StaticResource CountdownMaintain}}"/>

                        <ovsControls:Combox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2"
                                            SelectedValuePath="Code" DisplayMemberPath="Name" IsEnabled="{Binding Path=IsEnabled,Mode=TwoWay,ElementName=ucItemMaster}"
                                            x:Name="lstQuickTimes" SelectionChanged="lstQuickTimes_SelectionChanged">
                        </ovsControls:Combox>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding TextBlock_TackEffactTime,Source={StaticResource CountdownMaintain}}"/>

                        <timepicker:DatetimePicker Name="dtBeginDateTime" 
                        Grid.Row="1" Margin="0,0,8,0" Grid.Column="1" IsEnabled="{Binding Path=IsEnabled,Mode=TwoWay,ElementName=ucItemMaster}"
                        SelectedDateTime="{Binding StartTime,Mode=TwoWay,
                        ValidatesOnExceptions=True,NotifyOnValidationError=True}"/>

                        <ovsControls:WaterMarkTextBox WaterMarkContent="&lt;yyyy-MM-dd HH:mm:ss&gt;"
                        Grid.Row="1" Grid.Column="1" Margin="7,0,31,0" IsEnabled="{Binding Path=IsEnabled,Mode=TwoWay,ElementName=ucItemMaster}"
                        Text="{Binding SelectedDateTime, ElementName=dtBeginDateTime, 
                        StringFormat=yyyy-MM-dd HH:mm:ss, Mode=TwoWay,
                        ValidatesOnExceptions=True,NotifyOnValidationError=True}"/>

                        <TextBlock Grid.Row="1" Grid.Column="2" Text="{Binding TextBlock_LoseEffactTime,Source={StaticResource CountdownMaintain}}"/>

                        <timepicker:DatetimePicker Name="dtEndDateTime" 
                        Grid.Row="1" Margin="0,0,8,0" Grid.Column="3" IsEnabled="{Binding Path=IsEnabled,Mode=TwoWay,ElementName=ucItemMaster}"
                        SelectedDateTime="{Binding EndTime,Mode=TwoWay,
                        ValidatesOnExceptions=True,NotifyOnValidationError=True}"/>

                        <ovsControls:WaterMarkTextBox WaterMarkContent="&lt;yyyy-MM-dd HH:mm:ss&gt;"
                        Grid.Row="1" Grid.Column="3" Margin="7,0,31,0" IsEnabled="{Binding Path=IsEnabled,Mode=TwoWay,ElementName=ucItemMaster}"
                        Text="{Binding SelectedDateTime,ElementName=dtEndDateTime, 
                        StringFormat=yyyy-MM-dd HH:mm:ss, Mode=TwoWay,
                        ValidatesOnExceptions=True,NotifyOnValidationError=True}"/>
                    </Grid>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding TextBlock_PromotionPrtice,Source={StaticResource CountdownMaintain}}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" MaxLength="11"  Text="{Binding CountDownCurrentPrice,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True, Converter={StaticResource MoneyConverter}}"/>

                    <TextBlock Name="txtPerCount" Grid.Row="3" Grid.Column="2" Text="{Binding TextBlock_BuyQuntityPurSo,Source={StaticResource CountdownMaintain}}" Visibility="{Binding Path=IsPromotionSchedule,Converter={StaticResource BoolToVisibilityConverter}}"/>
                    <TextBox Grid.Row="3" Grid.Column="3" MaxLength="9" Text="{Binding MaxPerOrder,Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True,Converter={StaticResource MoneyConverter}}" Visibility="{Binding Path=Visibility,ElementName=txtPerCount}"/>


                    <TextBlock Grid.Row="3" Grid.Column="0"  Visibility="Collapsed" Text="{Binding TextBlock_GiftCoupons,Source={StaticResource CountdownMaintain}}"/>
                    <TextBox Grid.Row="3" Grid.Column="1"  Visibility="Collapsed" MaxLength="8" Text="{Binding CountDownCashRebate,Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True,Converter={StaticResource MoneyConverter}}" />
                    <TextBlock Grid.Row="2" Grid.Column="2"  Visibility="Collapsed" Text="{Binding TextBlock_GiftIntegral,Source={StaticResource CountdownMaintain}}"/>
                    <TextBox Grid.Row="2" Grid.Column="3"  Visibility="Collapsed" MaxLength="8"
                             Text="{Binding CountDownPoint,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}" />

                    <CheckBox Visibility="Collapsed"  Grid.Row="4" Grid.Column="3" Margin="7,5" Content="{Binding CheckBox_CountdownGoods,Source={StaticResource CountdownMaintain}}" 
                              IsChecked="{Binding IsSecondKill,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                             />
                    <!-- Visibility="{Binding Path=Visibility,ElementName=txtPerCount}"-->
                    <CheckBox Visibility="Collapsed"   Margin="7,5" Grid.Row="4" Grid.Column="1" Content="{Binding CheckBox_TodayBargainPrice,Source={StaticResource CountdownMaintain}}"
                               IsChecked="{Binding IsTodaySpecials, Mode=TwoWay, ValidatesOnExceptions=True,
                               NotifyOnValidationError=True}"
                               IsEnabled="{Binding HasCountdownHasTodaySpecialMaintainPermission}" />
                    <CheckBox Visibility="Collapsed"  Name="cbFirstLevelShow"  Grid.Row="5"  Grid.Column="1"   Margin="7,5" Content="{Binding CheckBox_FirstCategoryPage,Source={StaticResource CountdownMaintain}}"
                              IsChecked="{Binding IsC1Show,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              />
                    <!--Visibility="{Binding Path=IsPromotionSchedule,Converter={StaticResource BoolToVisibilityConverter},ConverterParameter=!}"/>-->
                    <CheckBox Visibility="Collapsed"  Grid.Row="5" Grid.Column="3" Margin="7,5" Content="{Binding CheckBox_SencodCategoryPage,Source={StaticResource CountdownMaintain}}" 
                              IsChecked="{Binding IsC2Show,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                             />
                    <!-- Visibility="{Binding Path=Visibility,ElementName=cbFirstLevelShow}"-->

                    <!--<CheckBox Name="cb24H" Grid.Row="6" Grid.Column="1" Margin="7,5" Content="{Binding CheckBox_AllDayHerald,Source={StaticResource CountdownMaintain}}" 
                               IsChecked="{Binding Is24hNotice,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}" Click="cb24H_Click"
                              Visibility="{Binding Path=Visibility,ElementName=cbFirstLevelShow}"/>
                    <CheckBox Name="cbIsShowPriceInNotice" Grid.Row="6" Grid.Column="3" Margin="7,5" Content="{Binding CheckBox_PriceInHerald,Source={StaticResource CountdownMaintain}}" 
                              IsChecked="{Binding IsShowPriceInNotice,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              Visibility="{Binding Path=IsChecked,Converter={StaticResource BoolToVisibilityConverter},ElementName=cb24H}"/>-->

                    <CheckBox  Visibility="Collapsed" Grid.Row="7" Grid.Column="1" Margin="7,5" Content="{Binding CheckBox_PrefectureCountdown,Source={StaticResource CountdownMaintain}}" x:Name="cbShowOnCountdownPage" 
                               IsChecked="{Binding IsCountDownAreaShow, Mode=TwoWay, ValidatesOnExceptions=True, 
                                            NotifyOnValidationError=True}"
                              IsEnabled="{Binding HasCountdownAreaShowMaintainPermission}"
                             />
                    <!-- Visibility="{Binding Path=Visibility,ElementName=cbFirstLevelShow}"-->

                    <CheckBox  Visibility="Collapsed" Grid.Row="8" Grid.Column="1" Margin="7,5" Content="{Binding CheckBox_HomePageCountdown,Source={StaticResource CountdownMaintain}}" x:Name="cbShowOnHomePage" 
                              IsChecked="{Binding IsHomePageShow,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              IsEnabled="{Binding HasCountdownIsHomePageShowMaintainPermission}"
                             />
                    <!-- Visibility="{Binding Path=Visibility,ElementName=cbFirstLevelShow}"-->
                    <CheckBox Grid.Row="9" Grid.Column="1" Margin="7,5" Content="{Binding CheckBox_EmailWarnStockShortage,Source={StaticResource CountdownMaintain}}" x:Name="cbAlertInventoryMin"
                              IsChecked="{Binding IsEmailNotify,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}" Visibility="Collapsed"/>
                    <CheckBox Grid.Row="10" Grid.Column="1" Margin="7,5" Content="{Binding CheckBox_LimitQuntitySale,Source={StaticResource CountdownMaintain}}" x:Name="cbLimitSalesCount"
                              IsChecked="{Binding IsLimitedQty,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                             Checked="cbReserveInventory_Checked"
                              Click="cbReserveInventory_Checked"  Visibility="Collapsed"/>
                    <CheckBox Grid.Row="11" Grid.Column="1" Margin="7,5" Visibility="Collapsed" Content="{Binding CheckBox_ObliStock,Source={StaticResource CountdownMaintain}}" x:Name="cbReserveInventory" 
                              IsChecked="{Binding IsReservedQty,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              Checked="cbReserveInventory_Checked"
                              Click="cbReserveInventory_Checked"/>

                    <CheckBox Name="cbStop" Grid.Row="10" Grid.Column="3" Margin="7,5" Content="{Binding CheckBox_StopAfterScratch,Source={StaticResource CountdownMaintain}}"
                              IsChecked="{Binding IsEndIfNoQty,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              Visibility="Collapsed"/>

                    <TextBlock Name="txbCountdownCount" Grid.Row="10" Grid.Column="0"  Text="{Binding TextBlock_PromotionQuantity,Source={StaticResource CountdownMaintain}}" />
                    <TextBox Name="txtCountdownCount" Grid.Row="10" Grid.Column="1" MaxLength="5"
                             Text="{Binding CountDownQty,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                              />

                    <TextBlock Grid.Row="7" Grid.Column="2" Text="{Binding TextBlock_CountdownPriority,Source={StaticResource CountdownMaintain}}" 
                               Visibility="{Binding Path=IsChecked,Converter={StaticResource BoolToVisibilityConverter},ElementName=cbShowOnCountdownPage}"/>
                    <TextBox Grid.Row="7" Grid.Column="3" MaxLength="4" Text="{Binding AreaShowPriority,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                             Visibility="{Binding Path=IsChecked,Mode=TwoWay,Converter={StaticResource BoolToVisibilityConverter},ElementName=cbShowOnCountdownPage}"/>

                    <TextBlock Grid.Row="8" Grid.Column="2" Text="{Binding TextBlcok_HomePageShowPriority,Source={StaticResource CountdownMaintain}}" 
                               Visibility="{Binding Path=IsChecked,Mode=TwoWay,Converter={StaticResource BoolToVisibilityConverter},ElementName=cbShowOnHomePage}"/>
                    <TextBox Grid.Row="8" Grid.Column="3" MaxLength="4" Text="{Binding HomePagePriority,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                             Visibility="{Binding Path=IsChecked,Mode=TwoWay,Converter={StaticResource BoolToVisibilityConverter},ElementName=cbShowOnHomePage}"/>

                    <TextBlock Grid.Row="9" Grid.Column="2" Text="{Binding TextBlcok_WarnStockQuantity,Source={StaticResource CountdownMaintain}}"
                            Visibility="Collapsed"/>
                    <TextBox Grid.Row="9" Grid.Column="3" MaxLength="5" Text="{Binding BaseLine,
                            Mode=TwoWay,
                            ValidatesOnExceptions=True,
                            NotifyOnValidationError=True}"
                           Visibility="Collapsed"/>

                    <HyperlinkButton Name="lbtnSetCount" Visibility="Collapsed"  Grid.Row="12" Grid.Column="0" Content="{Binding HyperLinkButton_SetBranchQuantity,Source={StaticResource CountdownMaintain}}" HorizontalContentAlignment="Left" Click="lbtnSetCount_Click"/>

                    <ovsDataControls:DataGrid Name="dgdSetCount" ItemsSource="{Binding AffectedStockList}" Visibility="Collapsed" Grid.Row="12" Grid.Column="1" Grid.ColumnSpan="3" Margin="7,0"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True"
                                  IsShowPager="False"
                                  IsShowColumnsSelector="False" 
                                  GridID="767316B0-D69C-488D-B0EB-3F9A7D81989C">
                        <ovsDataControls:DataGrid.Columns>
                            <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding StockName}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_BranchWearHouse,Source={StaticResource CountdownMaintain}}"
                                                         />
                            <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding AvailableQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_AvailQunatity,Source={StaticResource CountdownMaintain}}"
                                                       />
                            <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding ConsignQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_ReplaceSaleQuantity,Source={StaticResource CountdownMaintain}}"
                                                         />
                            <ovsDataControls:DataGridTextColumn Width="60"
                                                        Binding="{Binding VirtualQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_VirtualStoreRoomQuantity,Source={StaticResource CountdownMaintain}}"
                                                     />
                            <ovsDataControls:DataGridTextColumn Width="100"
                                                        Binding="{Binding TotalQty}"
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_AvalidReplaceVirtualQuantity,Source={StaticResource CountdownMaintain}}"
                                                   />
                            <ovsDataControls:DataGridTemplateColumn Width="120" 
                                                        ovsDataControls:DataGridAttached.Header="{Binding Grid_BranchCountdownQuantity,Source={StaticResource CountdownMaintain}}"
                                                      >
                                <ovsDataControls:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBox Text="{Binding Qty, Mode=TwoWay,NotifyOnValidationError=True}" />
                                    </DataTemplate>
                                </ovsDataControls:DataGridTemplateColumn.CellTemplate>
                            </ovsDataControls:DataGridTemplateColumn>
                        </ovsDataControls:DataGrid.Columns>
                    </ovsDataControls:DataGrid>

                    <HyperlinkButton Name="hlbCheck" Click="hlbCheck_Click" Grid.Row="13" Grid.Column="0" Content="{Binding HyperLinkButton_Check,Source={StaticResource CountdownMaintain}}" HorizontalContentAlignment="Left"/>
                    <StackPanel Grid.Row="13" Grid.Column="1"  Grid.ColumnSpan="4" Margin="10,0,0,0" HorizontalAlignment="Left" x:Name="spCheckResult" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                            <TextBlock Text="{Binding TextBlock_CoutdownGrossMarginContain,Source={StaticResource CountdownMaintain}}" Margin="0,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtGrossMargin"></TextBlock>
                            <TextBlock Text="%" Margin="0,0,5,0" Foreground="Red"></TextBlock>
                            <TextBlock Text="{Binding TextBlock_CoutdownGrossMarginNotContain,Source={StaticResource CountdownMaintain}}" Margin="0,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtGrossMarginWithOutPointAndGift"></TextBlock>
                            <TextBlock Text="%" Foreground="Red"></TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                            <TextBlock Text="{Binding TextBlock_CoutdownGrossProfitContain,Source={StaticResource CountdownMaintain}}" Margin="0,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtGrossMarginRate"></TextBlock>
                            <TextBlock Text="%" Margin="0,0,5,0" Foreground="Red"></TextBlock>
                            <TextBlock Text="{Binding TextBlock_CoutdownGrossProfitNotContain,Source={StaticResource CountdownMaintain}}" Margin="0,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtGrossMarginRateWithOutPointAndGift"></TextBlock>
                            <TextBlock Text="%" Foreground="Red"></TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                            <TextBlock Text="{Binding TextBlock_GiftSysNo,Source={StaticResource CountdownMaintain}}" Margin="0,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtGiftSysNo"></TextBlock>
                            <TextBlock Text="{Binding TextBlock_GiftVoucherSysNo,Source={StaticResource CountdownMaintain}}" Margin="10,0,5,0"></TextBlock>
                            <TextBlock Foreground="Red" FontSize="14" x:Name="txtCouponSysNo"></TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <TextBlock Grid.Row="14" Grid.Column="0" Text="{Binding TextBlock_ApplyPromotionReason,Source={StaticResource CountdownMaintain}}"/>
                    <TextBox Grid.Row="14" Grid.Column="1" Grid.ColumnSpan="3"  TextWrapping="Wrap" AcceptsReturn="True" Height="111" Text="{Binding Reasons,Mode=TwoWay}" MaxLength="300" />
                    <TextBlock Name="txtAuditReason" Grid.Row="15" Grid.Column="0" Text="{Binding TextBlcok_AuditkReason,Source={StaticResource CountdownMaintain}}" Visibility="{Binding Path=Visibility,ElementName=ButtonPassAudit}"/>
                    <TextBox Name="txtVerifyMemo" Grid.Row="15" Grid.Column="1" Grid.ColumnSpan="3" Visibility="{Binding Path=Visibility,ElementName=txtAuditReason}"  TextWrapping="Wrap" MaxLength="300"  AcceptsReturn="True" Height="111" Text="{Binding VerifyMemo,Mode=TwoWay,ValidatesOnExceptions=True,NotifyOnValidationError=True}"/>
                    <TextBlock Name="txtIsNeedSubmit" Grid.Row="16" Grid.Column="0" Text="{Binding TextBlock_SubmitAuditOrNot,Source={StaticResource CountdownMaintain}}"  Visibility="{Binding Path=Visibility, ElementName=ButtonNew}"></TextBlock>
                    <StackPanel  Grid.Row="16" Grid.Column="1" Orientation="Horizontal" Visibility="{Binding Path=Visibility, ElementName=txtIsNeedSubmit}" >
                        <RadioButton  Name="rbIsNeedVerify"   GroupName="rbIsNeedVerify" Content="{Binding RadioButton_Yes,Source={StaticResource CountdownMaintain}}"></RadioButton>
                        <RadioButton   IsChecked="True" GroupName="rbIsNeedVerify"  Content="{Binding RadioButton_No,Source={StaticResource CountdownMaintain}}"></RadioButton>
                    </StackPanel>

                </Grid>
            </Grid>
        </ovsControls:FunctionPanel.Content>
        <ovsControls:FunctionPanel.FunctionContent>
            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                <Button x:Name="ButtonNew" Content="{Binding Button_New,Source={StaticResource CountdownMaintain}}" Width="80" Margin="5" Visibility="{Binding  ButtonNewVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/new.png" Click="ButtonNew_Click"/>
                <Button x:Name="ButtonSave" Content="{Binding Button_Save,Source={StaticResource CountdownMaintain}}" Width="80" Margin="5"  Visibility="{Binding  ButtonSaveVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/save.png"
                        IsEnabled="{Binding HasCountdownUserRightOnAddOrUpdateMaintainPermission}" Click="ButtonSave_Click"/>
                <Button x:Name="ButtonSubmitAudit" Content="{Binding Button_SubAudit,Source={StaticResource CountdownMaintain}}" Width="90" Margin="5" Visibility="{Binding  ButtonSubmitAuditVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/post.png"
                        IsEnabled="{Binding IsEnabledSubmitAudit}" Click="ButtonSubmitAudit_Click"/>
                <Button x:Name="ButtonPassAudit" Content="{Binding Button_AuditApprove,Source={StaticResource CountdownMaintain}}" Width="90" Margin="5" IsEnabled="{Binding ButtonPassAuditEnable}"  Visibility="{Binding  ButtonPassAuditVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Images/Button/approve.png"
                        Click="ButtonPassAudit_Click"/>
                <Button x:Name="ButtonAuditFailure" Content="{Binding Button_AuditRefuse,Source={StaticResource CountdownMaintain}}" Width="100" Margin="5"  IsEnabled="{Binding ButtonPassAuditEnable}"  Visibility="{Binding  ButtonPassAuditVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Images/Button/void.png"
                        Click="ButtonAuditFailure_Click"/>
                <Button x:Name="ButtonAbandon" Content="{Binding Button_Void,Source={StaticResource CountdownMaintain}}" Width="80" Margin="5" Visibility="{Binding  ButtonAbandonVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/exit.png" Click="ButtonAbandon_Click"/>
                <Button x:Name="ButtonInterupt" Content="{Binding Button_StopeAudit,Source={StaticResource CountdownMaintain}}" Width="80" Margin="5" Visibility="{Binding  ButtonInteruptVisibility}"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/exit.png"
                        IsEnabled="{Binding HasCountdownUserRightOnVerifyMaintainPermission}" Click="ButtonInterupt_Click"/>
                <Button x:Name="ButtonFormClear" Content="{Binding Button_FormClear,Source={StaticResource CountdownMaintain}}" Width="100" Margin="5" Visibility="Collapsed"
                        Style="{StaticResource ButtonBStyle}" Tag="/Themes/Default/Icons/Button/exit.png"
                    Click="ButtonFormClear_Click"/>
            </StackPanel>
        </ovsControls:FunctionPanel.FunctionContent>
    </ovsControls:FunctionPanel>
</ovs:PageBase>
