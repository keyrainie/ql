<script src="~/Content/scripts/common/ECommerce.Dialog.js"></script>
<div class="form-group has-feedback">
    <div class="row">
        <div class="col-md-5" style="margin-right:0px;padding-right:0px;" >
            <input type="text" class="form-control" disabled placeholder="@GetText("品牌")" id="BrandName_S" 
                data-model="Brand.Name">
        </div>
        <div class="col-md-4" style="margin-right:0px;padding-right:0px; padding-left:0px;">
            <input type="text" class="form-control" id="BrandSysNo_S"
                data-model="Brand.SysNo">
        </div>
        <div class="col-md-1" style="margin-right:0px;padding-right:0px;padding-left:5px;" >
            <a href="#" class="btn green" id="btnSearchBrand"><i class="fa fa-search"></i></a>
        </div>
    </div>
</div>
<script type="text/javascript">
    (function () {
        var dialog = new ECommerce.Dialog({
            url: '/Views/UserControls/BrandDialog.cshtml',
            onClosed: function (data) {
                $("#BrandName_S").val(data.BrandNameLocal);
                $("#BrandSysNo_S").val(data.SysNo);
            }
        });
        //dialog.show();
        var timer = null;
        function bindEvent() {
            if (!$) {
                timer = setTimeout(bindEvent, 200);
                return;
            }
            $("#btnSearchBrand").click(function () {
                dialog.show();
                return false;
            });
            clearTimeout(timer);
            timer = null;
        }

        bindEvent();
        
    })();
</script>
